-- Increase numeric precision to avoid overflow during price sync
ALTER TABLE price_changes
  ALTER COLUMN old_price TYPE DECIMAL(18,4),
  ALTER COLUMN new_price TYPE DECIMAL(18,4),
  ALTER COLUMN change_amount TYPE DECIMAL(18,4),
  ALTER COLUMN change_percent TYPE DECIMAL(18,4),
  ALTER COLUMN current_cost TYPE DECIMAL(18,4),
  ALTER COLUMN current_stock TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_1 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_2 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_3 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_4 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_5 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_6 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_7 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_8 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_9 TYPE DECIMAL(18,4),
  ALTER COLUMN price_list_10 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_1 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_2 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_3 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_4 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_5 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_6 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_7 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_8 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_9 TYPE DECIMAL(18,4),
  ALTER COLUMN margin_list_10 TYPE DECIMAL(18,4);

ALTER TABLE product_price_stats
  ALTER COLUMN last_change_percent TYPE DECIMAL(18,4),
  ALTER COLUMN avg_change_frequency_days TYPE DECIMAL(18,4),
  ALTER COLUMN current_cost TYPE DECIMAL(18,4),
  ALTER COLUMN current_stock TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_1 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_2 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_3 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_4 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_5 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_6 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_7 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_8 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_9 TYPE DECIMAL(18,4),
  ALTER COLUMN current_price_list_10 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_1 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_2 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_3 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_4 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_5 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_6 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_7 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_8 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_9 TYPE DECIMAL(18,4),
  ALTER COLUMN current_margin_list_10 TYPE DECIMAL(18,4);
